<!doctype html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dialogue Tree Builder</title>
  <link rel="icon" href="wizard_icon.png" type="image/png" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div id="container">
    <!-- Sidebar -->
    <div id="sidebar">
      <div id="sidebar-header">
        <img src="wizard_icon.png" alt="Logo" id="sidebar-logo" />
        <h2>Characters</h2>
      </div>
      <div id="characterList"></div>
      <button id="addCharacterButton">Add Character</button>
      <!-- Export and Import Buttons -->
      <button id="exportButton">Export Data</button>
      <button id="importButton">Import Data</button>
      <!-- Hidden File Input for Import -->
      <input type="file" id="importFileInput" accept=".json" style="display: none;" />
    </div>
    <div id="storyMapWrapper">
      <div id="storyMap">
        <svg id="connectorCanvas"></svg>
        <div id="canvasMessage">
          Drag a character from the sidebar onto the screen to start a
          dialogue tree.<br />
          Drop a character card onto an existing card to link them, or right click on the card for additional options.
        </div>
      </div>
    </div>
  </div>
  <!-- Menu for cards -->
  <div id="contextMenu" class="context-menu">
    <ul>
      <li id="simulate">Simulate</li> <!-- Simulate Menu Item -->
      <li id="linkTo">Link to...</li>
      <li id="changeParent">Change Parent</li>
      <li id="deleteNode">Delete Node</li>
      <li id="clearLinks">Clear All Links</li>
    </ul>
  </div>

  <!-- Simulation Modal -->
  <div id="simulationModal" class="simulation-modal" style="display: none;">
    <div class="simulation-content">
      <div id="simulationCharacter" class="simulation-character"></div> <!-- New Element -->
      <div id="simulationDialogue" class="simulation-dialogue"></div>
      <div id="simulationChoices" class="simulation-choices"></div>
      <div class="simulation-navigation">
        <button id="simulationBack" class="simulation-back" style="display: none;">Back</button>
      </div>
      <button id="simulationClose" class="simulation-close">Close Simulation</button>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
